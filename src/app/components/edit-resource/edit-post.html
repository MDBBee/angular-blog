@if (location() === "view-post") {

<button
  class="px-4 font-bold py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 cursor-pointer active:scale-95 transition-all duration-150"
  (click)="openDialog()"
>
  Edit Post
</button>
} @else if (location() === "comment" &&( postService.user().id ===
commentToEdit().user.id || postService.user().role === "Admin")) {
<div (click)="openDialog()">
  <ng-icon
    class="text-sm md:text-lg text-destructive cursor-pointer"
    name="lucideXSquare"
  />
</div>
}

<!-- Dialog Backdrop -->
@if (isDialogOpen) {
<div
  class="fixed inset-0 backdrop-blur-md z-50 flex items-center justify-center p-4"
  (click)="closeDialog()"
>
  <!-- Dialog Container -->
  <div
    class="bg-background border border-border rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden"
    (click)="$event.stopPropagation()"
  >
    <!-- Dialog Header -->
    <div class="flex justify-between items-center p-6 border-b border-border">
      <h2 class="text-xl font-semibold text-foreground">
        {{ location() === 'view-post' ? 'Edit Post' : 'Delete Comment' }}
      </h2>
      <button
        class="text-muted-foreground hover:text-foreground transition-colors"
        (click)="closeDialog()"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          ></path>
        </svg>
      </button>
    </div>

    <!-- Dialog Content -->
    <div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]">
      <!-- Edit post overlay content -->
      @if (location() === "view-post") {

      <app-new-post
        [isUpdate]="true"
        [postToEdit]="postToEdit()"
        (postSubmitted)="closeDialog()"
      ></app-new-post>
      }

      <!-- Edit|Delete comment overlay content -->
      @if (location() === "comment") {
      <div class="space-y-4">
        <h3 class="text-lg">Are you sure you want to delete this comment?</h3>
        <div class="flex gap-4">
          <button
            class="cursor-pointer active:scale-80 duration-300 text-lg border-2 border-destructive rounded-xl px-3 py-1 text-foreground"
            (click)="deleteComment(commentToEdit(), postToEdit())"
          >
            Delete
          </button>

          <button
            class="cursor-pointer active:scale-80 duration-300 text-lg border-2 rounded-xl px-3 py-1 text-foreground"
            hlmBtn
            variant="outline"
            type="button"
            (click)="closeDialog()"
          >
            Cancel
          </button>
        </div>
      </div>

      }
    </div>
  </div>
</div>
}
